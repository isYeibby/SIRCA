<!DOCTYPE html>
<html lang="es" data-theme="light">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Factores de Riesgo</title>
  <link rel="stylesheet" href="/css/style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>

<body>

  <header class="encabezado">
    <img src="/img/logo.png" alt="Logo" />
    <div style="display: flex; align-items: center; flex-grow: 1; justify-content: center;">
      <h1 style="margin: 0;">Factores de Riesgo</h1>
      <button id="theme-toggle" class="theme-toggle" aria-label="Cambiar tema" aria-pressed="false">
        <!-- Icono dinámico será insertado por theme.js -->
      </button>
    </div>
  </header>

  <main class="zona-principal">
    <form class="contenedor-formulario" id="form-riesgo">

      <!-- PRESIÓN ARTERIAL -->
      <div class="subtitulo-con-boton">
        <h2 class="subtitulo">Presión Arterial</h2>
        <button type="button" class="btn-discreto" onclick="guardarSeccion('seccion-presion')">💾 Guardar sección</button>
      </div>
      <div id="seccion-presion">
        <div class="campo">
          <label for="presion-arterial">Presión arterial (mmHg):</label>
          <input type="text" id="presion-arterial" name="presion-arterial" placeholder="Ej. 120/80" required />
        </div>

        <div class="campo">
          <label for="sistolica">Sistólica (mmHg):</label>
          <input type="number" id="sistolica" name="sistolica" placeholder="Ej. 120" required />
        </div>

        <div class="campo">
          <label for="diastolica">Diastólica (mmHg):</label>
          <input type="number" id="diastolica" name="diastolica" placeholder="Ej. 80" required />
        </div>

        <div class="campo">
          <label for="deteccion-oportuna">¿Detección oportuna?:</label>
          <input type="text" id="deteccion-oportuna" name="deteccion-oportuna" placeholder="Ej. Sí / No / En tratamiento" required />
        </div>
      </div>

      <!-- PERFIL LIPÍDICO -->
      <div class="subtitulo-con-boton">
        <h2 class="subtitulo">Perfil Lipídico</h2>
        <button type="button" class="btn-discreto" onclick="guardarSeccion('seccion-lipidico')">💾 Guardar sección</button>
      </div>
      <div id="seccion-lipidico">
        <div class="campo">
          <label for="perfil-lipidico">Perfil lipídico:</label>
          <input type="text" id="perfil-lipidico" name="perfil-lipidico" placeholder="Ej. Dentro de rango / Alterado" required />
        </div>

        <div class="campo">
          <label for="trigliceridos">Triglicéridos (mg/dL):</label>
          <input type="number" id="trigliceridos" name="trigliceridos" placeholder="Ej. 150" required />
        </div>

        <div class="campo">
          <label for="colesterol">Colesterol total (mg/dL):</label>
          <input type="number" id="colesterol" name="colesterol" placeholder="Ej. 200" required />
        </div>
      </div>

      <!-- TABAQUISMO -->
      <div class="subtitulo-con-boton">
        <h2 class="subtitulo">Tabaquismo</h2>
        <button type="button" class="btn-discreto" onclick="guardarSeccion('seccion-tabaquismo')">💾 Guardar sección</button>
      </div>
      <div id="seccion-tabaquismo">
        <div class="campo">
          <label>¿Fuma actualmente?</label>
          <label>
            <input type="checkbox" id="fumador" name="fumador" /> Sí
          </label>
        </div>

        <div id="tabaquismo-campos">
          <div class="campo">
            <label for="cigarros-dia">Número de cigarros al día:</label>
            <input type="number" id="cigarros-dia" name="cigarros-dia" placeholder="Ej. 5" />
          </div>

          <div class="campo">
            <label for="nivel-tabaquismo">Nivel de tabaquismo:</label>
            <input type="text" id="nivel-tabaquismo" name="nivel-tabaquismo" placeholder="Ej. Bajo / Moderado / Alto" />
          </div>

          <div class="campo">
            <label for="tiempo-exposicion">Tiempo de exposición (meses):</label>
            <input type="number" id="tiempo-exposicion" name="tiempo-exposicion" placeholder="Ej. 36" />
          </div>
        </div>
      </div>

      <!-- BOTÓN GUARDAR TODO -->
      <div class="boton-centrado">
        <button type="button" onclick="guardarTodo()">Guardar Todo</button>
      </div>

    </form>
  </main>

  <!-- Flechas navegación -->
  <a class="flecha flecha-izquierda" data-target="q2.html" data-dir="left">
    <i class="fas fa-arrow-left"></i>
  </a>

  <a class="flecha flecha-derecha" data-target="q4.html" data-dir="right">
    <i class="fas fa-arrow-right"></i>
  </a>

  <script>
    const flechas = document.querySelectorAll('.flecha');
    const zona = document.querySelector('.zona-principal');
    flechas.forEach(flecha => {
      flecha.addEventListener('click', function (e) {
        e.preventDefault();
        const destino = this.getAttribute('data-target');
        const direccion = this.getAttribute('data-dir');
        zona.classList.remove('slide-out-left', 'slide-out-right');
        zona.classList.add(direccion === 'right' ? 'slide-out-left' : 'slide-out-right');
        setTimeout(() => { window.location.href = destino; }, 600);
      });
    });

    // Tabaquismo toggle
    document.getElementById('fumador').addEventListener('change', function () {
      document.getElementById('tabaquismo-campos').classList.toggle('activo', this.checked);
    });
  </script>

  <script src="/js/themeq.js"></script>
  <script src="/js/background.js"></script>
</body>

</html>
